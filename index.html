<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="app.css">
		<script src="event.js"></script>
		<script src="app.js"></script>
		<script>
			function update(model) {
				document.body.innerHTML = renderRoot(model)
			}

			window.onload = function() {
				fix()
				const urlParams = new URLSearchParams(window.location.search)
				const data = urlParams.get('data')

				if (data) {
					try {
						var event = param2event(data)
						update({ mode: 'show', event: event })
					} catch(error) {
						update({ mode: 'error' })
					}
				} else {
					update({ mode: 'error' })
				}
			}
		</script>
	</head>

	<body></body>
</html>
